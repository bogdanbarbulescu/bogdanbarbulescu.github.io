<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Updated Title -->
    <title>Red Team Learning Resources</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>
        /* Custom styles matching the Hub Theme */
        body {
            background-color: #f8f9fa; /* Light gray background */
        }
        .card {
            margin-bottom: 1.5rem;
            transition: transform .2s ease-in-out, box-shadow .2s ease-in-out;
            border: none; /* Cleaner look */
            box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.07); /* Subtle shadow */
            background-color: #fff; /* White cards */
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.12);
        }
        .card-title {
            font-weight: 600; /* Slightly bolder */
            font-size: 1.1rem;
            color: #343a40;
        }
        .card-body {
             min-height: 180px; /* Give cards a consistent minimum height */
             display: flex;
             flex-direction: column;
        }
        .card-text {
            color: #495057;
            font-size: 0.9rem;
            flex-grow: 1; /* Allow text to take available space */
        }
        .card-link i, .resource-list-item i {
            margin-right: 0.4rem;
            vertical-align: middle; /* Align icons better */
        }
        .badge {
             margin-right: 0.3rem;
             margin-bottom: 0.5rem;
             font-size: 0.75em;
             padding: 0.3em 0.6em; /* Adjust padding */
             display: inline-block; /* Ensure wrapping */
        }
        /* Accordion Styles */
        .accordion-item {
            margin-bottom: 1rem; /* Space between accordion items */
            border: none;
            border-radius: 0.375rem; /* Bootstrap default */
             box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.05);
             background-color: #fff;
        }
        .accordion-header {
            border-top-left-radius: 0.375rem;
            border-top-right-radius: 0.375rem;
        }
        .accordion-button {
             font-weight: 700;
             font-size: 1.2rem;
             color: #343a40;
             background-color: #e9ecef; /* Light header */
             border-top-left-radius: calc(0.375rem - 1px); /* Match item radius */
             border-top-right-radius: calc(0.375rem - 1px);
             border-bottom: 1px solid rgba(0,0,0,.08); /* Subtle separator */
        }
        .accordion-button:not(.collapsed) {
            color: #dc3545; /* Red Team color when open */
            background-color: #f8d7da; /* Lighter red when open */
            box-shadow: none; /* Remove default BS shadow */
            border-bottom: 1px solid #f5c2c7;
        }
         .accordion-button:focus {
            box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25); /* Red focus */
            z-index: 3; /* Ensure focus outline is visible */
        }
        .accordion-body {
            padding: 1.5rem; /* More padding inside */
        }

        .section-intro {
            margin-bottom: 1.5rem;
            margin-top: 0.5rem;
            color: #6c757d;
            font-size: 0.95rem;
        }
        /* Style for resource lists within sections */
        .resource-list {
            list-style: none;
            padding-left: 0;
        }
        .resource-list-item {
            margin-bottom: 0.8rem;
            font-size: 0.95rem;
            display: list-item; /* Default display for JS */
            transition: opacity 0.3s ease-out;
            padding: 0.25rem 0; /* Small padding */
        }
        .resource-list-item strong { /* Style bold text in lists */
            font-weight: 600;
            color: #495057;
        }
        .resource-list-item a {
            text-decoration: none;
            color: #0d6efd;
            font-weight: 500; /* Slightly bolder links */
        }
         .resource-list-item a:hover {
            text-decoration: underline;
         }
        .resource-list-item .text-muted {
             font-size: 0.85em;
             margin-left: 0.5rem;
             display: inline; /* Keep on same line */
             color: #6c757d !important;
        }
        /* Sub-headings within sections */
        h5.sub-section-title {
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
            color: #495057;
            padding-bottom: 0.3rem;
            border-bottom: 1px solid #dee2e6; /* Subtle separator */
        }
        h5.sub-section-title:first-of-type {
            margin-top: 0.5rem; /* Less margin for first sub-heading */
        }
        .placeholder-card {
            border: 2px dashed #adb5bd;
            background-color: #f1f3f5;
        }
        /* Search Styles */
        #search-wrapper {
            position: relative;
            margin-bottom: 2.5rem;
        }
        #suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid #ced4da;
            border-top: none;
            max-height: 250px; /* Slightly taller */
            overflow-y: auto;
            z-index: 1000;
            display: none; /* Hidden by default */
            list-style: none;
            padding: 0;
            margin: 0;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
            border-bottom-left-radius: 0.375rem;
            border-bottom-right-radius: 0.375rem;
        }
        #suggestions li {
            padding: 0.6rem 1rem;
            cursor: pointer;
            font-size: 0.95rem;
        }
        #suggestions li:hover, #suggestions li.active-suggestion { /* Style for hover and keyboard navigation */
            background-color: #e9ecef;
        }
        /* Class to hide items during search */
        .resource-hidden {
             display: none !important; /* Override card/list display */
        }
        .card.resource-hidden {
             /* Ensure cards fully hide if using display:none */
             padding: 0;
             border: none;
             margin-bottom: 0;
             height: 0;
             overflow: hidden;
        }
         /* Highlight search term */
        .highlight {
            background-color: #f8d7da; /* Light red highlight */
            font-weight: bold;
            padding: 0.1em 0;
        }
        /* Style for no results message */
        #no-results-message {
            display: none; /* Hidden by default */
            text-align: center;
            padding: 2rem;
            color: #6c757d;
            font-style: italic;
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-dark navbar-expand-lg bg-dark sticky-top"> <!-- Added sticky-top -->
        <div class="container">
            <!-- Make sure this link points to your actual homepage -->
            <a class="navbar-brand" href="index.html">
                <!-- Use path to your specific BVB logo -->
                <!-- IMPORTANT: Use a WHITE version of the logo for dark navbars -->
                <img src="images/logo.png" alt="BVB Logo" height="35"> BVB
                <!-- Adjust height (e.g., 30, 35, 40) and path as needed -->
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                 <!-- Update nav links to point to correct sections/pages -->
                <ul class="navbar-nav ms-auto">
                    <!-- Assuming these sections are on index.html -->
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="py-5">
        <section id="red-team-resources">
            <div class="container">
                <h2 class="text-center display-5 text-dark mb-3 fw-bold"><i class="bi bi-fire me-2 text-danger"></i>Red Team Learning Resources</h2>
                <p class="lead text-center text-muted mb-5">A structured collection of resources for mastering Red Team techniques, tools, and methodologies.</p>

                 <!-- Search Bar -->
                <div id="search-wrapper">
                    <form id="search-form" role="search" autocomplete="off">
                        <div class="input-group input-group-lg">
                            <span class="input-group-text" id="search-icon"><i class="bi bi-search"></i></span>
                            <input type="search" class="form-control" id="search-input" placeholder="Search Red Team resources..." aria-label="Search" aria-describedby="search-icon">
                            <button class="btn btn-outline-danger" type="submit" id="search-button">Search</button> <!-- Red button -->
                            <button class="btn btn-outline-secondary" type="button" id="clear-search-button" title="Clear Search" style="display: none;"><i class="bi bi-x-lg"></i></button>
                        </div>
                    </form>
                     <ul id="suggestions"></ul>
                </div>
                 <!-- End Search Bar -->

                <!-- Message for No Search Results -->
                <div id="no-results-message">
                    <p class="fs-5"><i class="bi bi-emoji-frown me-2"></i>No resources found matching your search term.</p>
                    <button class="btn btn-sm btn-outline-secondary" id="show-all-button">Show All Resources</button>
                </div>

                <!-- Accordion for Red Team Sections -->
                <div class="accordion" id="redTeamAccordion">

                    <!-- Accordion Item: Overview and Fundamentals -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFundamentals">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFundamentals" aria-expanded="true" aria-controls="collapseFundamentals">
                                <i class="bi bi-info-circle-fill me-2"></i>Overview & Fundamentals
                            </button>
                        </h2>
                        <div id="collapseFundamentals" class="accordion-collapse collapse show" aria-labelledby="headingFundamentals" data-bs-parent="#redTeamAccordion">
                            <div class="accordion-body">
                                <p class="section-intro">Understanding the core principles and lifecycle of Red Team operations.</p>
                                <p><strong>What is Red Teaming?</strong> Red Teaming involves simulating real-world adversarial attacks to test an organizationâ€™s cybersecurity defenses, processes, and personnel response.</p>
                                <h5 class="sub-section-title mt-4"><i class="bi bi-key-fill me-2"></i>Core Concepts</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-concept-lifecycle" data-title="Red Team Attack Lifecycle Concept" data-keywords="red team, concept, attack lifecycle, reconnaissance, exploitation, lateral movement, exfiltration, mitre att&ck"><strong>Attack Lifecycle:</strong> Understanding phases like Reconnaissance, Initial Access, Execution, Persistence, Privilege Escalation, Defense Evasion, Credential Access, Discovery, Lateral Movement, Collection, C2, Exfiltration, and Impact.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-concept-adversary" data-title="Red Team Adversary Simulation Concept" data-keywords="red team, concept, adversary simulation, emulation, threat actor, ttp, tactics, techniques, procedures"><strong>Adversary Simulation:</strong> Mimicking the Tactics, Techniques, and Procedures (TTPs) of real-world threat actors.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-concept-mitre" data-title="MITRE ATT&CK Framework Concept" data-keywords="red team, concept, mitre att&ck, framework, ttp, tactics, techniques, procedures, knowledge base"><strong>MITRE ATT&CK Framework:</strong> Utilizing this knowledge base of adversary tactics and techniques for planning and reporting.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-concept-postexploit" data-title="Red Team Post-Exploitation Tactics Concept" data-keywords="red team, concept, post-exploitation, persistence, lateral movement, privilege escalation, objectives"><strong>Post-Exploitation Tactics:</strong> Techniques used after initial compromise to maintain access, move laterally, escalate privileges, and achieve objectives.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Accordion Item: Key Red Team Tools -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTools">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTools" aria-expanded="false" aria-controls="collapseTools">
                                <i class="bi bi-tools me-2"></i>Key Tools by Attack Phase
                            </button>
                        </h2>
                        <div id="collapseTools" class="accordion-collapse collapse" aria-labelledby="headingTools" data-bs-parent="#redTeamAccordion">
                            <div class="accordion-body">
                                <p class="section-intro">Essential tools used across different phases of a Red Team operation.</p>

                                <h5 class="sub-section-title"><i class="bi bi-search me-1"></i>Reconnaissance</h5>
                                <div class="row">
                                    <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-shodan">
                                        <div class="card h-100" data-title="Shodan Search Engine" data-keywords="shodan, reconnaissance, recon, osint, iot, search engine, internet devices, tool, exposure">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-binoculars-fill me-1"></i>Shodan</h5>
                                                <p class="card-text flex-grow-1">Search engine for Internet-connected devices, finding exposed services, vulnerabilities.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Recon</span><span class="badge bg-info text-dark">OSINT</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://www.shodan.io/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-maltego">
                                        <div class="card h-100" data-title="Maltego Visual Link Analysis" data-keywords="maltego, reconnaissance, recon, osint, visualization, graph, analysis, tool, investigation">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-diagram-2-fill me-1"></i>Maltego</h5>
                                                <p class="card-text flex-grow-1">Visual link analysis tool for OSINT and forensics, mapping relationships between information.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Recon</span><span class="badge bg-info text-dark">OSINT</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://www.maltego.com/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-theharvester">
                                        <div class="card h-100" data-title="theHarvester OSINT Tool" data-keywords="theharvester, reconnaissance, recon, osint, email, subdomain, discovery, tool, information gathering">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-envelope-paper-fill me-1"></i>theHarvester</h5>
                                                <p class="card-text flex-grow-1">Gathers emails, subdomains, hosts, employee names, open ports and banners from public sources.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Recon</span><span class="badge bg-info text-dark">OSINT</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/laramies/theHarvester" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-nmap">
                                        <div class="card h-100" data-title="Nmap Network Mapper" data-keywords="nmap, reconnaissance, recon, network scanner, port scanner, service discovery, tool, host discovery">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-hdd-network-fill me-1"></i>Nmap</h5>
                                                <p class="card-text flex-grow-1">Powerful network scanner for host discovery, service detection, OS detection, and vulnerability scanning.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Recon</span><span class="badge bg-info text-dark">Network</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://nmap.org/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-lightning-charge-fill me-1"></i>Exploitation & C2</h5>
                                <div class="row">
                                    <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-metasploit">
                                        <div class="card h-100" data-title="Metasploit Framework" data-keywords="metasploit, exploitation, framework, vulnerability, exploit, payload, post-exploitation, tool, msfconsole">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-radioactive me-1"></i>Metasploit</h5>
                                                <p class="card-text flex-grow-1">Widely used framework for developing, testing, and executing exploits against remote targets.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-danger">Exploitation</span><span class="badge bg-secondary">Framework</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://www.metasploit.com/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-cobaltstrike">
                                        <div class="card h-100" data-title="Cobalt Strike C2 Framework" data-keywords="cobalt strike, c2, command control, post-exploitation, red team, adversary simulation, tool, commercial, beacon">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-broadcast-pin me-1"></i>Cobalt Strike</h5>
                                                <p class="card-text flex-grow-1">Commercial C2 framework for advanced adversary simulations and red team operations.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-danger">Exploitation</span><span class="badge bg-warning text-dark">C2</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://www.cobaltstrike.com/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-impacket">
                                         <div class="card h-100" data-title="Impacket Network Protocols Library" data-keywords="impacket, python, network, protocols, smb, kerberos, dcerpc, pentest, library, windows, ad, exploitation, lateral movement">
                                              <div class="card-body d-flex flex-column">
                                                 <h5 class="card-title"><i class="bi bi-bezier2 me-1"></i>Impacket</h5>
                                                 <p class="card-text flex-grow-1">Python classes for working with network protocols. Essential for interacting with Windows services (SMB, Kerberos, etc.).</p>
                                                 <div class="mt-auto pt-2">
                                                     <span class="badge bg-danger">Exploitation</span><span class="badge bg-primary">Python</span><span class="badge bg-warning text-dark">Network</span><span class="badge bg-secondary">Library</span>
                                                     <a href="https://github.com/fortra/impacket" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-pupy-rat">
                                        <div class="card h-100" data-title="Pupy RAT Remote Administration Tool" data-keywords="pupy, rat, c2, command control, remote access, tool, red team, payload, post exploitation, cross-platform">
                                             <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-plug-fill me-1"></i>Pupy RAT</h5>
                                                <p class="card-text flex-grow-1">Open source, cross-platform (Windows, Linux, OSX, Android) Remote Administration and Post-Exploitation Tool.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-danger">Exploitation</span><span class="badge bg-warning text-dark">C2</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/tanc7/pupy" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-arrow-up-right-square-fill me-1"></i>Privilege Escalation</h5>
                                <div class="row">
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-peass">
                                        <div class="card h-100" data-title="LinPEAS WinPEAS PEASS-ng" data-keywords="peass, linpeas, winpeas, privilege escalation, privesc, linux, windows, enumeration, script, tool, checklist">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-file-earmark-code-fill me-1"></i>LinPEAS / WinPEAS</h5>
                                                <p class="card-text flex-grow-1">Scripts (PEASS-ng) for local privilege escalation enumeration on Linux and Windows systems.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">PrivEsc</span><span class="badge bg-info text-dark">Enumeration</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/carlospolop/PEASS-ng" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-powersploit">
                                        <div class="card h-100" data-title="PowerSploit PowerShell Framework" data-keywords="powersploit, powershell, post-exploitation, privilege escalation, privesc, windows, framework, tool, collection">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-lightning-fill me-1"></i>PowerSploit</h5>
                                                <p class="card-text flex-grow-1">A collection of PowerShell modules useful for penetration testers during all phases of an assessment.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">PrivEsc</span><span class="badge bg-danger">Post-Exploitation</span><span class="badge bg-secondary">Framework</span>
                                                    <a href="https://github.com/PowerShellMafia/PowerSploit" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-easypeasey-tanc7">
                                        <div class="card h-100" data-title="EasyPeasey Linux PrivEsc Script tanc7" data-keywords="privilege escalation, privesc, linux, script, automation, tool, enumeration, linpeas wrapper">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-filetype-sh me-1"></i>EasyPeasey Linux PrivEsc</h5>
                                                <p class="card-text flex-grow-1">ADD DESCRIPTION HERE (Automated script for Linux privesc checks, often wraps LinPEAS).</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">PrivEsc</span><span class="badge bg-info text-dark">Linux</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/tanc7/EasyPeasey" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-arrows-angle-expand me-1"></i>Lateral Movement</h5>
                                <div class="row">
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-bloodhound">
                                        <div class="card h-100" data-title="BloodHound Active Directory Analysis" data-keywords="bloodhound, active directory, ad, lateral movement, attack path, visualization, graph, tool, windows">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-diagram-3 me-1"></i>BloodHound</h5>
                                                <p class="card-text flex-grow-1">Visually map Active Directory attack paths. Indispensable for AD pentesting.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Lateral Movement</span><span class="badge bg-info text-dark">AD</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/BloodHoundAD/BloodHound" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-crackmapexec">
                                        <div class="card h-100" data-title="CrackMapExec Post-Exploitation Tool" data-keywords="crackmapexec, cme, pentest, network, windows, active directory, ad, tool, smb, winrm, lateral movement, post-exploitation">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-person-bounding-box me-1"></i>CrackMapExec</h5>
                                                <p class="card-text flex-grow-1">Post-exploitation tool for lateral movement, credential testing, and command execution in Windows networks.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Lateral Movement</span><span class="badge bg-info text-dark">Windows</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/Porchetta-Industries/CrackMapExec" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a> <!-- Updated Link -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-evil-winrm">
                                        <div class="card h-100" data-title="Evil-WinRM Shell" data-keywords="evil-winrm, winrm, windows, powershell, remote access, tool, pentest, shell, lateral movement">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-terminal-dash me-1"></i>Evil-WinRM</h5>
                                                <p class="card-text flex-grow-1">The ultimate WinRM shell for hacking/pentesting Windows environments, facilitating lateral movement.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Lateral Movement</span><span class="badge bg-info text-dark">Windows</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://github.com/Hackplayers/evil-winrm" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-github"></i> View</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-box-arrow-up-right me-1"></i>Exfiltration</h5>
                                <div class="row">
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-rclone">
                                        <div class="card h-100" data-title="Rclone Cloud Sync Utility" data-keywords="rclone, exfiltration, data transfer, cloud storage, sync, command line, tool, backup">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-cloud-upload-fill me-1"></i>Rclone</h5>
                                                <p class="card-text flex-grow-1">Command-line utility for syncing files and directories to and from various cloud storage providers.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Exfiltration</span><span class="badge bg-info text-dark">Cloud</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://rclone.org/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-powershell-exfil">
                                        <div class="card h-100 placeholder-card" data-title="PowerShell Exfiltration Scripts" data-keywords="powershell, exfiltration, script, data transfer, windows, custom, c2">
                                             <div class="card-body text-center d-flex flex-column justify-content-center">
                                                 <h5 class="card-title text-muted"><i class="bi bi-filetype-ps1 me-1"></i>PowerShell Exfil Scripts</h5>
                                                 <p class="card-text text-muted">Custom PowerShell scripts are often used for tailored data exfiltration methods.</p>
                                             </div>
                                         </div>
                                     </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-box-seam me-1"></i>Other Offensive Tools</h5>
                                <div class="row">
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-yara">
                                        <div class="card h-100" data-title="YARA Pattern Matching Tool" data-keywords="yara, malware analysis, pattern matching, classification, rules, tool, forensics, incident response">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-file-earmark-binary-fill me-1"></i>YARA</h5>
                                                <p class="card-text flex-grow-1">Tool aimed at helping malware researchers identify and classify malware samples based on textual or binary patterns.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-info text-dark">Analysis</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://virustotal.github.io/yara/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-wireguard">
                                        <div class="card h-100" data-title="WireGuard VPN" data-keywords="wireguard, vpn, network, security, tunneling, privacy, tool, secure connection">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-shield-lock-fill me-1"></i>WireGuard</h5>
                                                <p class="card-text flex-grow-1">Extremely simple yet fast and modern VPN that utilizes state-of-the-art cryptography.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-info text-dark">Network</span><span class="badge bg-secondary">Tool</span><span class="badge bg-success">VPN</span>
                                                    <a href="https://www.wireguard.com/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-kali">
                                        <div class="card h-100" data-title="Kali Linux Pentesting Distro" data-keywords="kali linux, linux, distribution, pentest, security auditing, offensive security, os, platform">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-ubuntu me-1"></i>Kali Linux</h5>
                                                <p class="card-text flex-grow-1">A Debian-derived Linux distribution designed for digital forensics and penetration testing.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-danger">Red Team</span><span class="badge bg-info text-dark">OS</span><span class="badge bg-secondary">Platform</span>
                                                    <a href="https://www.kali.org/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-phishreport">
                                        <div class="card h-100" data-title="Phish.Report Phishing Simulation" data-keywords="phishing, simulation, security awareness, training, social engineering, tool, platform, reporting">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-envelope-exclamation-fill me-1"></i>Phish.Report</h5>
                                                <p class="card-text flex-grow-1">Phishing simulation and security awareness training platform (also used for reporting).</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-warning text-dark">Social Engineering</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://phish.report/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h5 class="sub-section-title"><i class="bi bi-clipboard-data-fill me-1"></i>SOAR & Analysis Tools (Relevant for Context)</h5>
                                <div class="row">
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-thehive">
                                        <div class="card h-100" data-title="TheHive & Cortex SOAR Platform" data-keywords="thehive, cortex, soar, incident response, case management, automation, analysis, tool, platform, blue team">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-hurricane me-1"></i>TheHive & Cortex</h5>
                                                <p class="card-text flex-grow-1">Scalable, open source SOAR platform for incident management and security analysis.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-info text-dark">SOAR</span><span class="badge bg-primary">Blue Team</span><span class="badge bg-secondary">Platform</span>
                                                    <a href="https://thehive-project.org/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     <div class="col-md-6 col-lg-4 searchable-resource" id="resource-tool-velociraptor">
                                        <div class="card h-100" data-title="Velociraptor DFIR Tool" data-keywords="velociraptor, dfir, incident response, forensics, data collection, analysis, endpoint, tool, blue team">
                                            <div class="card-body d-flex flex-column">
                                                <h5 class="card-title"><i class="bi bi-speedometer me-1"></i>Velociraptor</h5>
                                                <p class="card-text flex-grow-1">Advanced digital forensics and incident response tool for endpoint data collection and analysis.</p>
                                                <div class="mt-auto pt-2">
                                                    <span class="badge bg-info text-dark">DFIR</span><span class="badge bg-primary">Blue Team</span><span class="badge bg-secondary">Tool</span>
                                                    <a href="https://www.velocidex.com/" class="btn btn-sm btn-outline-primary mt-2 stretched-link" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i> Visit Site</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Accordion Item: Hands-On Practice Platforms -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPractice">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePractice" aria-expanded="false" aria-controls="collapsePractice">
                                <i class="bi bi-joystick me-2"></i>Hands-On Practice Platforms
                            </button>
                        </h2>
                        <div id="collapsePractice" class="accordion-collapse collapse" aria-labelledby="headingPractice" data-bs-parent="#redTeamAccordion">
                            <div class="accordion-body">
                                <p class="section-intro">Platforms offering labs and scenarios to practice Red Team skills.</p>

                                <h5 class="sub-section-title"><i class="bi bi-pc-display-horizontal me-2"></i>Cyber Range Platforms</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-platform-thm" data-title="TryHackMe Red Teaming Paths" data-keywords="tryhackme, thm, practice, lab, cyber range, red team, learning, hands-on, beginner, intermediate"><a href="https://tryhackme.com/paths" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i>TryHackMe</a>: Offers dedicated Red Teaming paths and labs suitable for various skill levels.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-platform-htb" data-title="Hack The Box Pro Labs" data-keywords="hack the box, htb, practice, lab, pro labs, red team, scenario, hands-on, advanced, enterprise"><a href="https://www.hackthebox.com/hacker/pro-labs" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i>Hack The Box</a>: Pro Labs provide realistic, enterprise-grade Red Team scenarios.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-platform-cyberrange" data-title="Cyber Range Labs General" data-keywords="cyber range, practice, lab, simulation, red team, blue team, hands-on, training"><strong>Cyber Range Labs:</strong> Various platforms offer realistic attack simulations (search for specific providers like Immersive Labs, RangeForce, etc.).</li>
                                </ul>

                                <h5 class="sub-section-title"><i class="bi bi-patch-check-fill me-2"></i>Certification-Focused Labs</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-platform-offsec-pg" data-title="Offensive Security Proving Grounds PG" data-keywords="offensive security, offsec, proving grounds, pg, practice, lab, oscp, osce, hands-on, certification"><a href="https://www.offensive-security.com/labs/" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i>Offensive Security Proving Grounds</a>: Practice labs designed to complement OSCP/OSCE training.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-platform-zeropoint" data-title="Zero Point Security Red Team Ops" data-keywords="zero point security, red team ops, training, course, lab, advanced, hands-on, crto"><a href="https://zeropointsecurity.co.uk/red-team-ops/" target="_blank" rel="noopener noreferrer"><i class="bi bi-link-45deg"></i>Zero Point Security Red Team Ops</a>: Advanced Red Team training (CRTO) with associated labs.</li>
                                    <!-- Add eJPT labs/resources here if applicable -->
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Accordion Item: Real-Life Applications -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingApplications">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseApplications" aria-expanded="false" aria-controls="collapseApplications">
                                <i class="bi bi-bullseye me-2"></i>Real-Life Applications & Scenarios
                            </button>
                        </h2>
                        <div id="collapseApplications" class="accordion-collapse collapse" aria-labelledby="headingApplications" data-bs-parent="#redTeamAccordion">
                            <div class="accordion-body">
                                <p class="section-intro">Examples of how Red Teaming is applied in real-world security assessments.</p>

                                <h5 class="sub-section-title"><i class="bi bi-building-check me-2"></i>Enterprise Security Testing</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-app-enterprise" data-title="Red Team Application Enterprise Security Testing" data-keywords="red team, application, scenario, enterprise security, apt simulation, detection testing, edr, siem, soc">Simulating APT (Advanced Persistent Threat) attacks to evaluate overall security posture.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-app-detection" data-title="Red Team Application Detection and Response Testing" data-keywords="red team, application, scenario, detection testing, response testing, edr, siem, soc, blue team validation">Testing the effectiveness of detection mechanisms (EDR, SIEM) and incident response procedures (SOC).</li>
                                </ul>

                                <h5 class="sub-section-title"><i class="bi bi-cloud-fill me-2"></i>Cloud Security Assessments</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-app-cloud-misconfig" data-title="Red Team Application Cloud Misconfiguration Exploitation" data-keywords="red team, application, scenario, cloud security, aws, azure, gcp, misconfiguration, exploitation">Compromising environments through misconfigured cloud services (S3 buckets, security groups, etc.).</li>
                                    <li class="resource-list-item searchable-resource" id="rt-app-cloud-iam" data-title="Red Team Application Cloud Access Control Testing" data-keywords="red team, application, scenario, cloud security, aws, azure, gcp, iam, access control, permissions">Testing cloud Identity and Access Management (IAM) controls and permissions boundaries.</li>
                                </ul>

                                <h5 class="sub-section-title"><i class="bi bi-diagram-3 me-2"></i>Active Directory Penetration Testing</h5>
                                <ul class="resource-list mb-4">
                                    <li class="resource-list-item searchable-resource" id="rt-app-ad-misconfig" data-title="Red Team Application Active Directory Misconfiguration Exploitation" data-keywords="red team, application, scenario, active directory, ad, pentesting, misconfiguration, kerberos, credentials">Exploiting common AD misconfigurations and weak credential practices.</li>
                                    <li class="resource-list-item searchable-resource" id="rt-app-ad-paths" data-title="Red Team Application Active Directory Attack Path Mapping" data-keywords="red team, application, scenario, active directory, ad, pentesting, attack path, domain escalation, bloodhound">Mapping attack paths for lateral movement and domain privilege escalation using tools like BloodHound.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div> <!-- /#redTeamAccordion -->

                <!-- Suggestion Box / Contribution CTA -->
                <div class="card text-center mt-5 border-0 shadow-sm" style="background-color: #e9ecef;">
                    <div class="card-body p-4">
                        <h5 class="card-title fw-bold">Contribute to this Hub!</h5>
                        <p class="card-text text-muted">Found an awesome Red Team resource we missed? Let us know!</p>
                        <a href="index.html#contact" class="btn btn-danger fw-bold">Suggest a Resource <i class="bi bi-arrow-right-short"></i></a>
                    </div>
                </div>

            </div> <!-- /container -->
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light text-center py-3 mt-auto">
        <p class="mb-0">Â© 2024 Bogdan BÄƒrbulescu | All rights reserved.</p>
    </footer>

    <!-- Bootstrap JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom Search & Autocomplete JS (Same as Hub Page) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('search-input');
            const suggestionsList = document.getElementById('suggestions');
            const searchForm = document.getElementById('search-form');
            const clearSearchButton = document.getElementById('clear-search-button');
            const showAllButton = document.getElementById('show-all-button');
            const noResultsMessage = document.getElementById('no-results-message');
            const resourceItems = document.querySelectorAll('.searchable-resource');
            const mainAccordionElement = document.getElementById('redTeamAccordion'); // Target the specific accordion

            let resourcesData = [];
            let currentSuggestionIndex = -1;

            // --- 1. Prepare Data ---
            function prepareResourceData() {
                resourcesData = [];
                 resourceItems.forEach(item => {
                    const linkElement = item.querySelector('a');
                    const cardTitleElement = item.querySelector('.card-title');
                    let title = item.dataset.title || '';
                    if (!title && linkElement) title = linkElement.textContent;
                    if (!title && cardTitleElement) title = cardTitleElement.textContent;

                    const keywords = (item.dataset.keywords || '').toLowerCase();
                    const id = item.id;

                    const descriptionElement = item.querySelector('.text-muted');
                    const cardTextElement = item.querySelector('.card-text');
                    let descriptionText = '';
                    if (descriptionElement) descriptionText = descriptionElement.textContent;
                    else if (cardTextElement) descriptionText = cardTextElement.textContent;
                    // Also check direct text content for list items
                    else if (item.nodeName === 'LI') descriptionText = item.textContent.replace(/<[^>]*>/g, ''); // Strip tags from list item text

                    if (title && id) {
                        resourcesData.push({
                            id: id,
                            title: title.trim(),
                            keywords: keywords,
                            fullText: (title + ' ' + keywords + ' ' + descriptionText).toLowerCase().replace(/add description here/gi, '').trim()
                        });
                    } else {
                        console.warn("Missing title or ID for item:", item);
                    }
                 });
            }

            // --- 2. Autocomplete ---
             function highlightMatch(text, query) {
                if (!query) return text;
                const regex = new RegExp(`(${query.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&')})`, 'gi');
                return text.replace(regex, `<span class="highlight">$1</span>`);
            }

            function showSuggestions(query) {
                suggestionsList.innerHTML = '';
                currentSuggestionIndex = -1;

                if (!query) {
                    suggestionsList.style.display = 'none';
                    return;
                }

                const lowerCaseQuery = query.toLowerCase();
                const filtered = resourcesData.filter(resource =>
                    resource.fullText.includes(lowerCaseQuery)
                ).slice(0, 10);

                if (filtered.length > 0) {
                    filtered.forEach((resource, index) => {
                        const li = document.createElement('li');
                        li.dataset.resourceId = resource.id;
                        li.dataset.resourceTitle = resource.title;
                        li.innerHTML = highlightMatch(resource.title, query);

                        li.addEventListener('click', () => {
                            searchInput.value = resource.title;
                            suggestionsList.style.display = 'none';
                            filterResources(resource.title);
                            scrollToResource(resource.id);
                        });
                        suggestionsList.appendChild(li);
                    });
                    suggestionsList.style.display = 'block';
                } else {
                    suggestionsList.style.display = 'none';
                }
            }

             // --- 2a. Scroll ---
            function scrollToResource(resourceId) {
                const element = document.getElementById(resourceId);
                if (!element) return;

                let collapseElement = element.closest('.accordion-collapse');

                if (collapseElement && mainAccordionElement) { // Check if mainAccordionElement exists
                     const bsCollapse = bootstrap.Collapse.getInstance(collapseElement) || new bootstrap.Collapse(collapseElement, { toggle: false });

                     if (!collapseElement.classList.contains('show')) {
                        bsCollapse.show();
                        collapseElement.addEventListener('shown.bs.collapse', () => {
                             element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                             element.style.transition = 'background-color 0.5s ease';
                             element.style.backgroundColor = '#f8d7da'; // Light red highlight
                             setTimeout(() => { element.style.backgroundColor = ''; }, 1500);
                        }, { once: true });
                     } else {
                          element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                          element.style.transition = 'background-color 0.5s ease';
                          element.style.backgroundColor = '#f8d7da';
                          setTimeout(() => { element.style.backgroundColor = ''; }, 1500);
                     }
                } else {
                     element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }

            // --- 3. Filtering ---
            function filterResources(query) {
                const lowerCaseQuery = query.toLowerCase().trim();
                let matchFound = false;

                if (!lowerCaseQuery) {
                    resourceItems.forEach(item => item.classList.remove('resource-hidden'));
                    noResultsMessage.style.display = 'none';
                    clearSearchButton.style.display = 'none';
                    // Ensure all accordions are potentially collapsible again if needed
                    // (though default Bootstrap behavior might handle this)
                    return;
                }

                clearSearchButton.style.display = 'inline-block';

                resourceItems.forEach(item => {
                    const resourceData = resourcesData.find(r => r.id === item.id);
                    const textToSearch = resourceData ? resourceData.fullText : (item.textContent || '').toLowerCase();

                    if (textToSearch.includes(lowerCaseQuery)) {
                        item.classList.remove('resource-hidden');
                        matchFound = true;
                        // Make sure the accordion containing the match is openable
                        const parentCollapse = item.closest('.accordion-collapse');
                        if(parentCollapse && !parentCollapse.classList.contains('show')) {
                            // Optional: Add a visual cue to the button? Or just let user open it.
                        }
                    } else {
                        item.classList.add('resource-hidden');
                    }
                });

                noResultsMessage.style.display = matchFound ? 'none' : 'block';

                // If filtering, potentially open all accordions containing results?
                // Or leave them closed and let user explore. Let's leave closed for now.
            }

            // --- 4. Event Listeners ---
            searchInput.addEventListener('input', () => {
                const query = searchInput.value;
                showSuggestions(query);
                clearSearchButton.style.display = query ? 'inline-block' : 'none';
                if (!query) {
                     filterResources('');
                     noResultsMessage.style.display = 'none';
                 }
            });

             searchInput.addEventListener('keydown', (e) => {
                 const items = suggestionsList.querySelectorAll('li');
                 if (items.length === 0 || suggestionsList.style.display === 'none') return;

                 if (e.key === 'ArrowDown') {
                     e.preventDefault();
                     currentSuggestionIndex = (currentSuggestionIndex + 1) % items.length;
                     updateSuggestionHighlight(items);
                 } else if (e.key === 'ArrowUp') {
                     e.preventDefault();
                     currentSuggestionIndex = (currentSuggestionIndex - 1 + items.length) % items.length;
                     updateSuggestionHighlight(items);
                 } else if (e.key === 'Enter') {
                      e.preventDefault();
                      if (currentSuggestionIndex > -1 && items[currentSuggestionIndex]) {
                         items[currentSuggestionIndex].click();
                      } else {
                         searchForm.requestSubmit();
                      }
                 } else if (e.key === 'Escape') {
                     suggestionsList.style.display = 'none';
                 }
             });

            function updateSuggestionHighlight(items) {
                 items.forEach((item, index) => {
                     if (index === currentSuggestionIndex) {
                         item.classList.add('active-suggestion');
                         item.scrollIntoView({ block: 'nearest' });
                     } else {
                         item.classList.remove('active-suggestion');
                     }
                 });
             }

            document.addEventListener('click', (event) => {
                const searchWrapper = document.getElementById('search-wrapper');
                if (searchWrapper && !searchWrapper.contains(event.target)) {
                    suggestionsList.style.display = 'none';
                }
            });

             searchForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const query = searchInput.value;
                suggestionsList.style.display = 'none';
                filterResources(query);
             });

             clearSearchButton.addEventListener('click', () => {
                 searchInput.value = '';
                 filterResources('');
                 noResultsMessage.style.display = 'none';
                 clearSearchButton.style.display = 'none';
                 searchInput.focus();
                 suggestionsList.style.display = 'none';
             });

             showAllButton.addEventListener('click', () => {
                  searchInput.value = '';
                  filterResources('');
                  noResultsMessage.style.display = 'none';
                  clearSearchButton.style.display = 'none';
             });

            // --- 5. Initial Setup ---
            prepareResourceData();

        }); // End DOMContentLoaded
    </script>

</body>
</html>
